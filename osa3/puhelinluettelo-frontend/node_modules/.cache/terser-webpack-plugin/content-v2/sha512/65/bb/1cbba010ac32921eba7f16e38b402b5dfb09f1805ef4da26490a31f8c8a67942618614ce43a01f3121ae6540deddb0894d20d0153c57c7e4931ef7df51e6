{"map":"{\"version\":3,\"sources\":[\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/components/PersonForm.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/components/Person.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/components/Persons.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/components/Filter.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/services/persons.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/components/Notification.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/components/ErrorMessage.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/App.js\",\"/home/artur/Study/fullstackopen-2019/osa3/puhelinluettelo/src/index.js\"],\"names\":[\"PersonForm\",\"props\",\"react_default\",\"a\",\"createElement\",\"onSubmit\",\"onChange\",\"onNameChange\",\"value\",\"nameValue\",\"onNumberChange\",\"numberValue\",\"type\",\"Person\",\"_ref\",\"person\",\"handleRemoveButtonClick\",\"name\",\"number\",\"onClick\",\"Persons\",\"persons\",\"filter\",\"trim\",\"toLowerCase\",\"includes\",\"toLocaleLowerCase\",\"filteredPersons\",\"map\",\"key\",\"components_Person\",\"Filter\",\"onFilterChange\",\"baseUrl\",\"services_persons\",\"axios\",\"get\",\"then\",\"response\",\"data\",\"newPerson\",\"post\",\"id\",\"delete\",\"concat\",\"Notification\",\"message\",\"style\",\"color\",\"background\",\"fontSize\",\"borderStyle\",\"borderRadius\",\"padding\",\"marginBottom\",\"ErrorMessage\",\"App\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"setPersons\",\"_useState3\",\"_useState4\",\"newName\",\"setNewName\",\"_useState5\",\"_useState6\",\"newNumber\",\"setNewNumber\",\"_useState7\",\"_useState8\",\"newFilter\",\"setNewFilter\",\"_useState9\",\"_useState10\",\"notificationMessage\",\"setNotificationMessage\",\"_useState11\",\"_useState12\",\"errorMessage\",\"setErrorMessage\",\"useEffect\",\"personService\",\"initialPersons\",\"components_Notification\",\"components_ErrorMessage\",\"components_Filter\",\"event\",\"target\",\"components_PersonForm\",\"preventDefault\",\"returnedPerson\",\"setTimeout\",\"components_Persons\",\"personToDelete\",\"window\",\"confirm\",\"catch\",\"error\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react'\\n\\nconst PersonForm = (props) => {\\n    return (\\n        <form onSubmit={props.onSubmit}>\\n            <div>\\n                name: <input onChange={props.onNameChange} value={props.nameValue} /><br />\\n                number: <input onChange={props.onNumberChange} value={props.numberValue} />\\n            </div>\\n            <div>\\n                <button type=\\\"submit\\\">add</button>\\n            </div>\\n        </form>\\n    )\\n}\\n\\nexport default PersonForm\",\"import React from 'react'\\n\\nconst Person = ({ person, handleRemoveButtonClick }) => (\\n    <div>{person.name} {person.number}\\n        <button onClick={() => handleRemoveButtonClick(person)}>delete</button>\\n    </div>\\n)\\n\\nexport default Person\",\"import React from 'react'\\nimport Person from './Person'\\n\\nconst filteredPersons = (persons, filter) => persons.filter(person =>\\n    person.name.toLowerCase().includes(filter.trim().toLocaleLowerCase()))\\n\\nconst Persons = ({ persons, filter, handleRemoveButtonClick }) => {\\n\\n    const personsToShow = filter.trim() === ''\\n        ? persons : filteredPersons(persons, filter)\\n\\n    return (\\n        personsToShow.map(person =>\\n            <div key={person.name}>\\n                <Person person={person}\\n                handleRemoveButtonClick={handleRemoveButtonClick} />\\n            </div>\\n        )\\n    )\\n}\\n\\nexport default Persons\",\"import React from 'react'\\n\\nconst Filter = ({onFilterChange, filter}) => (\\n    <div>\\n        filter shown with <input onChange={onFilterChange} value={filter} />\\n    </div>\\n)\\n\\nexport default Filter\",\"import axios from 'axios'\\n\\nconst baseUrl = '/api/persons'\\n\\nconst getAll = () => {\\n    const request = axios.get(baseUrl)\\n    return request.then(response => response.data)\\n}\\n\\nconst create = (newPerson) => {\\n    const request = axios.post(baseUrl, newPerson)\\n    return request.then(response => response.data)\\n}\\n\\nconst update = (updatedPerson) => {\\n    const request = axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson)\\n    return request.then(response => response.data)\\n}\\n\\nconst remove = (id) => {\\n    const request = axios.delete(`${baseUrl}/${id}`)\\n    return request.then(response => response.data)\\n}\\n\\nexport default { getAll, create, update, remove }\",\"import React from 'react'\\n\\nconst Notification = ({ message }) => {\\n    const notificationStyle = {\\n        color: 'green',\\n        background: 'lightgrey',\\n        fontSize: 20,\\n        borderStyle: 'solid',\\n        borderRadius: 5,\\n        padding: 10,\\n        marginBottom: 10,\\n    }\\n\\n    if (message === null) {\\n        return null\\n    }\\n\\n    return (\\n        <div style={notificationStyle}>\\n            {message}\\n        </div>\\n    )\\n}\\n\\nexport default Notification\",\"import React from 'react'\\n\\nconst ErrorMessage = ({ message }) => {\\n    const notificationStyle = {\\n        color: 'red',\\n        background: 'lightgrey',\\n        fontSize: 20,\\n        borderStyle: 'solid',\\n        borderRadius: 5,\\n        padding: 10,\\n        marginBottom: 10,\\n    }\\n\\n    if (message === null) {\\n        return null\\n    }\\n\\n    return (\\n        <div style={notificationStyle}>\\n            {message}\\n        </div>\\n    )\\n}\\n\\nexport default ErrorMessage\",\"import React, { useState, useEffect } from 'react'\\nimport PersonForm from './components/PersonForm'\\nimport Persons from './components/Persons'\\nimport Filter from './components/Filter'\\nimport personService from './services/persons'\\nimport Notification from './components/Notification'\\nimport ErrorMessage from './components/ErrorMessage'\\n\\nconst App = () => {\\n  const [persons, setPersons] = useState([])\\n  const [newName, setNewName] = useState('')\\n  const [newNumber, setNewNumber] = useState('')\\n  const [newFilter, setNewFilter] = useState('')\\n  const [notificationMessage, setNotificationMessage] = useState(null)\\n  const [errorMessage, setErrorMessage] = useState(null)\\n\\n  useEffect(() => {\\n    personService\\n      .getAll()\\n      .then(initialPersons => {\\n        setPersons(initialPersons)\\n      })\\n  }, [])\\n\\n  const handleNameChange = (event) => {\\n    setNewName(event.target.value)\\n  }\\n\\n  const handleNumberChange = (event) => {\\n    setNewNumber(event.target.value)\\n  }\\n\\n  const handleFilterChange = (event) => {\\n    setNewFilter(event.target.value)\\n  }\\n\\n  const addPerson = (event) => {\\n    event.preventDefault()\\n\\n/*     if ((persons.some(person => person.name === newName))) {\\n      if (!window.confirm(`${newName} is already added to phonebook, replace the old number\\n      with a new one?`)) {\\n        return\\n      }\\n\\n      const personToUpdate = persons.find(person => person.name === newName)\\n      const updatedPerson = { ...personToUpdate, number: newNumber }\\n\\n      personService\\n        .update(updatedPerson)\\n        .then(returnedPerson => {\\n          setPersons(persons.map(person =>\\n            person.id !== returnedPerson.id\\n              ? person : returnedPerson))\\n          setNotificationMessage(`Updated ${returnedPerson.name}`)\\n          setTimeout(() => {\\n            setNotificationMessage(null)\\n          }, 5000)\\n        })\\n        .catch(error => {\\n          setErrorMessage(`Information of ${updatedPerson.name} has already\\n            been removed from server`)\\n          setTimeout(() => {\\n            setErrorMessage(null)\\n          }, 5000)\\n          setPersons(persons.filter(person => person.id !== updatedPerson.id))\\n        })\\n\\n\\n      setNewNumber('')\\n      setNewName('')\\n\\n      return\\n    } */\\n\\n    const newPerson = {\\n      name: newName,\\n      number: newNumber\\n    }\\n\\n    personService\\n      .create(newPerson)\\n      .then(returnedPerson => {\\n        setPersons(persons.concat(returnedPerson))\\n        setNewName('')\\n        setNewNumber('')\\n        setNotificationMessage(`Added ${returnedPerson.name}`)\\n        setTimeout(() => {\\n          setNotificationMessage(null)\\n        }, 5000)\\n      })\\n\\n    setNewNumber('')\\n    setNewName('')\\n\\n  }\\n\\n  const handleRemoveButtonClick = (personToDelete) => {\\n    if (!window.confirm(`Delete ${personToDelete.name}?`)) {\\n      return\\n    }\\n\\n    personService\\n      .remove(personToDelete.id)\\n      .then(setPersons(persons.filter(person => person.id !== personToDelete.id)))\\n      .then(\\n        setNotificationMessage(`Deleted ${personToDelete.name}`))\\n      .then(\\n        setTimeout(() => {\\n          setNotificationMessage(null)\\n        }, 5000))\\n      .catch(error => {\\n        setErrorMessage(`Information of ${personToDelete.name} has already\\n          been removed from server`)\\n        setTimeout(() => {\\n          setErrorMessage(null)\\n        }, 5000)\\n      })\\n  }\\n\\n  return (\\n    <div>\\n      <h2>Phonebook</h2>\\n      <Notification message={notificationMessage} />\\n      <ErrorMessage message={errorMessage} />\\n      <Filter onFilterChange={handleFilterChange} filter={newFilter} />\\n      <h3>add a new</h3>\\n      <PersonForm onSubmit={addPerson} onNameChange={handleNameChange}\\n        nameValue={newName} onNumberChange={handleNumberChange} numberValue={newNumber} />\\n      <h3>Numbers</h3>\\n      <Persons persons={persons} filter={newFilter}\\n        handleRemoveButtonClick={handleRemoveButtonClick} />\\n    </div>\\n  )\\n\\n}\\n\\nexport default App\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport App from './App';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},37:function(e,n,t){\"use strict\";t.r(n);var a=t(0),r=t.n(a),u=t(13),o=t.n(u),l=t(2),c=function(e){return r.a.createElement(\"form\",{onSubmit:e.onSubmit},r.a.createElement(\"div\",null,\"name: \",r.a.createElement(\"input\",{onChange:e.onNameChange,value:e.nameValue}),r.a.createElement(\"br\",null),\"number: \",r.a.createElement(\"input\",{onChange:e.onNumberChange,value:e.numberValue})),r.a.createElement(\"div\",null,r.a.createElement(\"button\",{type:\"submit\"},\"add\")))},i=function(e){var n=e.person,t=e.handleRemoveButtonClick;return r.a.createElement(\"div\",null,n.name,\" \",n.number,r.a.createElement(\"button\",{onClick:function(){return t(n)}},\"delete\"))},m=function(e){var n=e.persons,t=e.filter,a=e.handleRemoveButtonClick;return(\"\"===t.trim()?n:function(e,n){return e.filter(function(e){return e.name.toLowerCase().includes(n.trim().toLocaleLowerCase())})}(n,t)).map(function(e){return r.a.createElement(\"div\",{key:e.name},r.a.createElement(i,{person:e,handleRemoveButtonClick:a}))})},d=function(e){var n=e.onFilterChange,t=e.filter;return r.a.createElement(\"div\",null,\"filter shown with \",r.a.createElement(\"input\",{onChange:n,value:t}))},f=t(3),s=t.n(f),b=\"/api/persons\",h=function(){return s.a.get(b).then(function(e){return e.data})},g=function(e){return s.a.post(b,e).then(function(e){return e.data})},v=function(e){return s.a.delete(\"\".concat(b,\"/\").concat(e)).then(function(e){return e.data})},E=function(e){var n=e.message;return null===n?null:r.a.createElement(\"div\",{style:{color:\"green\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10}},n)},p=function(e){var n=e.message;return null===n?null:r.a.createElement(\"div\",{style:{color:\"red\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10}},n)},C=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(\"\"),i=Object(l.a)(o,2),f=i[0],s=i[1],b=Object(a.useState)(\"\"),C=Object(l.a)(b,2),j=C[0],w=C[1],O=Object(a.useState)(\"\"),S=Object(l.a)(O,2),k=S[0],y=S[1],B=Object(a.useState)(null),R=Object(l.a)(B,2),N=R[0],V=R[1],D=Object(a.useState)(null),L=Object(l.a)(D,2),T=L[0],z=L[1];Object(a.useEffect)(function(){h().then(function(e){u(e)})},[]);return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Phonebook\"),r.a.createElement(E,{message:N}),r.a.createElement(p,{message:T}),r.a.createElement(d,{onFilterChange:function(e){y(e.target.value)},filter:k}),r.a.createElement(\"h3\",null,\"add a new\"),r.a.createElement(c,{onSubmit:function(e){e.preventDefault(),g({name:f,number:j}).then(function(e){u(t.concat(e)),s(\"\"),w(\"\"),V(\"Added \".concat(e.name)),setTimeout(function(){V(null)},5e3)}),w(\"\"),s(\"\")},onNameChange:function(e){s(e.target.value)},nameValue:f,onNumberChange:function(e){w(e.target.value)},numberValue:j}),r.a.createElement(\"h3\",null,\"Numbers\"),r.a.createElement(m,{persons:t,filter:k,handleRemoveButtonClick:function(e){window.confirm(\"Delete \".concat(e.name,\"?\"))&&v(e.id).then(u(t.filter(function(n){return n.id!==e.id}))).then(V(\"Deleted \".concat(e.name))).then(setTimeout(function(){V(null)},5e3)).catch(function(n){z(\"Information of \".concat(e.name,\" has already\\n          been removed from server\")),setTimeout(function(){z(null)},5e3)})}}))};o.a.render(r.a.createElement(C,null),document.getElementById(\"root\"))}},[[14,1,2]]]);","extractedComments":[]}